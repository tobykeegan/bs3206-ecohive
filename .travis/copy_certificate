
#!/bin/bash

# Define the source and destination file paths
dev_cert="./.travis/dev_cert.pem"
prod_cert="./.travis/production_cert.pem"
destination="./cert.pem"

# Check if the TRAVIS_BRANCH variable is not set
if [ -z "$TRAVIS_BRANCH" ]; then
  echo "Error: TRAVIS_BRANCH variable is not set."
  exit 1
fi

# Check if TRAVIS_BRANCH is not main
if [ "$TRAVIS_BRANCH" != "main" ]; then
  # Copy dev_cert.pem to cert.pem
  cp "$dev_cert" "$destination"
  echo "Copied $dev_cert to $destination"
else
  # Copy prod_cert.pem to cert.pem
  cp "$prod_cert" "$destination"
  echo "Copied $prod_cert to $destination"
fi